!function(){var e,t=chrome.app.getDetails(),a=new Vue({el:"#app",data:function(){return{appInfo:t,search:{name:""},searchResult:[],form:{},cnCollegesData:[],cnColleges:[{value:"pro-985"},{value:"pro-211"}],globalCollegesData:[],globalColleges:[{value:"top-0"},{value:"top-50"},{value:"top-100"},{value:"top-300"}]}},watch:{"search.name":function(t){clearTimeout(e),e=setTimeout(function(){a.getTagsByName(t)},500)}},filters:{tagMap:function(e,t){t=t||"text";var a={"pro-985":{text:"985\u5de5\u7a0b",theme:"success"},"pro-211":{text:"211\u5de5\u7a0b",theme:"success"},"top-0":{text:"\u4ec5\u9650\u5927\u9646\u9662\u6821",theme:"success"},"top-50":{text:"\u5168\u7403TOP 50",theme:"success"},"top-100":{text:"\u5168\u7403TOP 100",theme:"success"},"top-300":{text:"\u5168\u7403TOP 300",theme:"success"},"top-500":{text:"\u5168\u7403TOP 500",theme:"success"}}[e]||{text:"\u672a\u77e5\u9662\u6821",theme:"info"};return a[t]}},created:function(){showMe985211.base.getConfig(function(e){var t=e.config;a.form=t}),showMe985211.base.getColleges(function(e){a.cnCollegesData=e.cnCollegesData,a.globalCollegesData=e.globalCollegesData})},methods:{getTagsByName:function(e){var t=[];if(e=e.replace(/\s/g,""),!e)return void(a.searchResult=t);for(var o=0;o<a.cnCollegesData.length;o++){var n=a.cnCollegesData[o];if(n.name==e||n.name_en==e){var s=a.getTagsByItem(n,"cn");t=t.concat(s);break}}for(var o=0;o<a.globalCollegesData.length;o++){var n=a.globalCollegesData[o];if(n.name==e||n.name_en==e){var s=a.getTagsByItem(n,"global");t=t.concat(s);break}}0===t.length&&(t=a.getTagsByItem(null)),a.searchResult=t},getTagsByItem:function(e,t){if(!e||!e.tags)return[{value:"none"}];var a=[];"global"===t?a.push(e.tags[0]):a=a.concat(e.tags);var o=[];return a.forEach(function(e){o.push({value:e})}),o},onSubmit:function(){showMe985211.base.setConfig(a.form,function(){a.$message({type:"success",message:"\u8bbe\u7f6e\u5df2\u4fdd\u5b58\uff01",center:!0})})},onCancel:function(){showMe985211.base.getConfig(function(e){var t=e.config;a.form=t})},onShowDetail:function(){return window.open("https://github.com/xiongwilee/show-me-985211#%E4%B8%89%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95")}}})}();